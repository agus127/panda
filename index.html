<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Panda Interaktif 3 Pertanyaan</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap');

body {
    font-family: 'Comic Neue', cursive, Arial, sans-serif;
    text-align: center;
    margin: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 1s ease;
    color: #333;
    background-size: cover;
    background-position: center;
    overflow: hidden;
}

.container {
    background: rgba(255, 255, 255, 0.95);
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    max-width: 600px;
    width: 90%;
    position: relative;
}

h1 {
    font-size: 2.2em;
    margin-bottom: 1.5rem;
    color: #2c3e50;
    text-shadow: 1px 1px 2px #fff;
}

button {
    font-size: 1.5em;
    padding: 20px 40px;
    cursor: pointer;
    border: none;
    border-radius: 15px;
    transition: all 0.2s ease;
    font-weight: 700;
    user-select: none;
    box-shadow: 0 5px 10px rgba(0,0,0,0.15);
    position: absolute;
}

.tombol-iya { background-color: #2ed573; color: white; position: relative; }
.tombol-tidak { background-color: #ff4757; color: white; z-index: 1; }

img {
    width: 220px;
    margin-top: 20px;
    transition: transform 0.5s ease;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    display: block;
    margin-left: auto;
    margin-right: auto;
}

@media (max-width: 480px) {
    button { padding: 12px 25px; font-size: 1.2em; }
    img { width: 90%; }
}
</style>
</head>
<body>
<script>
const pertanyaanData = [
    {
        text: "Kamu mau traktir aku makan gak?",
        bg: "linear-gradient(120deg, #ffe066, #ff6b6b, #6a89cc)",
        iyaBtn: "Mau",
        tidakBtn: "Tidak",
        animasiPositif: ["https://media.giphy.com/media/a9CSmhwtk4IhO/giphy.gif"],
        audioPositif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"],
        animasiNegatif: ["https://media.giphy.com/media/3e18NPUVzoxzO/giphy.gif"],
        audioNegatif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"],
        animasiAkhir: null
    },
    {
        text: "Kapan?",
        bg: "linear-gradient(120deg, #74b9ff, #55efc4, #ffeaa7)",
        iyaBtn: "Besok",
        tidakBtn: "Tahun Depan",
        animasiPositif: ["https://media.giphy.com/media/sY6DRXWTn9a2k/giphy.gif"],
        audioPositif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"],
        animasiNegatif: ["https://media.giphy.com/media/7p3e2WCM0VEnm/giphy.gif"],
        audioNegatif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"],
        animasiAkhir: null
    },
    {
        text: "Oke kita deal?",
        bg: "linear-gradient(120deg, #fd79a8, #a29bfe, #fab1a0)",
        iyaBtn: "Deal",
        tidakBtn: "Becanda",
        animasiPositif: ["https://media.giphy.com/media/hxERQNWQudqSF1iDnr/giphy.gif", "https://media.giphy.com/media/DD2NmqYhvLiP6/giphy.gif"],
        audioPositif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3"],
        animasiNegatif: ["https://media.giphy.com/media/3UkLhoyi553r2/giphy.gif"],
        audioNegatif: ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3"],
        animasiAkhir: null
    }
];

let currentQuestion = 0;

function wait(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }
async function playGifsSequentially(container, gifs, audioUrls){
    for(let i = 0; i < gifs.length; i++){
        container.innerHTML = `<img src="${gifs[i]}" alt="Animasi" />`;
        if(audioUrls[i]){
            const audio = new Audio(audioUrls[i]);
            audio.play();
            await wait(3500); // Tunggu selama durasi GIF
            audio.pause();
        } else {
            await wait(3500); // Tunggu selama durasi GIF
        }
    }
}

function randomPosition(btn){
    const maxX = window.innerWidth - btn.offsetWidth;
    const maxY = window.innerHeight - btn.offsetHeight;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    btn.style.left = `${x}px`;
    btn.style.top = `${y}px`;
}

function showQuestion(index){
    const data = pertanyaanData[index];
    document.body.style.background = data.bg;

    document.body.innerHTML = `
        <div class="container">
            <h1>${data.text}</h1>
            <button id="iyaBtn" class="tombol-iya">${data.iyaBtn}</button>
            <button id="tidakBtn" class="tombol-tidak">${data.tidakBtn}</button>
            <div id="gifContainer" style="margin-top: 20px; min-height: 240px;"></div>
        </div>
    `;

    const iyaBtn = document.getElementById("iyaBtn");
    const tidakBtn = document.getElementById("tidakBtn");
    const gifContainer = document.getElementById("gifContainer");

    // Posisi awal tombol "Tidak" di tengah
    tidakBtn.style.left = '50%';
    tidakBtn.style.top = '50%';
    tidakBtn.style.transform = 'translate(-50%, -50%)';

    // Tombol "Iya"
    iyaBtn.addEventListener("click", async ()=>{
        iyaBtn.disabled = true; tidakBtn.disabled = true;
        if(data.animasiPositif.length > 1){
            await playGifsSequentially(gifContainer, data.animasiPositif, data.audioPositif);
        } else {
            gifContainer.innerHTML = `<img src="${data.animasiPositif[0]}" alt="Animasi Positif" />`;
            const audio = new Audio(data.audioPositif[0]);
            audio.play();
            await wait(3500);
            audio.pause();
        }
        if(index < pertanyaanData.length - 1) {
            showQuestion(index + 1);
        } else {
            if(data.animasiAkhir) {
                gifContainer.innerHTML = `<img src="${data.animasiAkhir}" alt="Animasi Akhir" />`;
            }
            setTimeout(() => {
                document.querySelector('.container').innerHTML += `<h2 style="color:#2ecc71;margin-top:20px;">Yeay! Kamu deal ðŸ˜„</h2>`;
            }, 1000);
        }
    });

    // Tombol "Tidak" bergerak terus-menerus
    let moveInterval = setInterval(() => { randomPosition(tidakBtn); }, 400);

    tidakBtn.addEventListener("click", async () => {
        if(tidakBtn.disabled) return;
        iyaBtn.disabled = true; tidakBtn.disabled = true;
        clearInterval(moveInterval);
        gifContainer.innerHTML = `<img src="${data.animasiNegatif[0]}" alt="Animasi Negatif" />`;
        const audio = new Audio(data.audioNegatif[0]);
        audio.play();
        await wait(3500);
        audio.pause();
        tidakBtn.style.left = '50%'; tidakBtn.style.top = '50%'; tidakBtn.style.transform = 'translate(-50%, -50%)';
        iyaBtn.disabled = false; tidakBtn.disabled = false;
        moveInterval = setInterval(() => { randomPosition(tidakBtn); }, 400);
    });
}

showQuestion(0);
</script>
</body>
</html>
